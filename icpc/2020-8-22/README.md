G Permutation

题意：有 $n$ 个数，$m$ 条限制，每条限制指定了两个数的大小关系，问有多少种 $n$ 排列。$m \leqslant 20$。

题解：按限制建立有向图后，对每个单连通分量做状压 DP 即可。



H Query on the subtree

题意：给定一棵树，有两种操作：1) 修改某个点的权值；2) 询问离某个点距离 $d$ 以内的所有点的权值之和。

题解：考虑动态点分治，保存下来每一层的深度信息，用树状数组保存。这样就可以支持单点修改和每一层的查询了。