# 第二场报告

### 概况

先写的水题 H，然后接手了模拟题 A。A 题出了个小 BUG，导致过得不快。之后辅助队友把 F 题翻译到 Python。中间一大段时间在写 C 题爆搜，不是很熟练，而且被卡了常数，后来又手写哈希表才过。最后 40min Rush 几何题 L 题失败。

### 题目

**A. Allocation**　纯模拟题，模拟内存分配，复杂度要求不高。一开始写的时候列表头没处理好，交上去出了个 TLE，但实际上是逻辑的问题。后来又改成内存池分配，发现 WA 了，才发现了 BUG。

**B. Counting Bit Strings**　给定一个长度为 $n$ 的字符串，由 `0` 和 `*` 构成，`*` 处可以填 `0` 或 `1`，要求每个长度为 $L$ 的字串内 `1` 的个数不超过 $P$ 个，问方案数。$n \leqslant 100$，$L \leqslant 50$，$P \leqslant 5$。

做法显然直接装压，状态数实际上只有 $2×10^6$ 左右个。采取爆搜的方式找出所有合法状态后 DP 即可。一开始写的时候用位运算写的，调起来非常痛苦 QAQ。另外 STL 的哈希表实在效率不高，碰到百万级别的操作次数还是不用为好。

**H. Hoodies**　动态维护逆序对数的题目，使用树状数组就可以了。

**I. Integer Points**　求直线 $y = x\sqrt{p/q}$ 下的整点数量。$n \leqslant 10^9$，$1\leqslant p,q \leqslant 100$。

有点奇葩，用 Stern-Brocot 树逼近一下 $\sqrt{p/q}$，然后用标准的类欧计算。以前没实际使用过这种操作，虽然想到了但是觉得还是会有误差，不知道具体怎么用。据说卡精度，补题时用了 `__int128_t`。

**L. Longest Arc**　给 $n$ 个互不相交的圆，求它们的凸包上圆弧长度的最大值。$n \leqslant 1000$。

做法非常直接，求外公切线，求凸包，枚举凸包的边。写代码时出了两个意外，一是求凸包手写的，出了个笔误，把栈数组和原点集搞混了。而是处理圆上的区间时忘记是一个环形序列了。