 

01 Road To The 3rd Building

题意：给定序列 $a_n$，求
$$
\frac1{n+1\choose 2}\sum_{l=1}\sum_{r=l}\frac1{r - l + 1} \sum_{i = l}^r a_i
$$
题解：考虑全部通分后，长度为 $L$ 的区间和的贡献系数为 $n!/L$。

然后计算每个元素 $a_i$ 会在所有长度为 $L$ 的区间和中算入多少次。最终不难发现所有长度为 $L$ 的区间和的总和为
$$
\sum_{i=1}^L \sum_{j=i}^{n-i+1}a_i
$$
之后就不难算出答案了。



04 Asteroid in Love

题意：有三种颜色的星星在二维平面上，问这三种星星各一个星星作为三角形的顶点，这个三角形的最大面积是多少。

题解：对三种星星分别做凸包，然后枚举其中两种星星作为三角形的两个顶点，得到一条边，然后用这条边去切另一种星星的凸包，得到最优顶点。



05 Fragrant numbers

题意：恶臭数字论证器。数字序列是 `1145141919...` 的循环，只允许使用括号和加法、乘法。只用论证到 $5000$。

题解：实际上只用前 $11$ 个数位就够了。之后直接大力 DP 即可。可以用 bitset 做点优化，总之还挺快的。



11 Kirakira

题意：平面上有 $n$ 个点，每个点有一定概率出现。问所有出现的额点的凸包的面积的期望。

题解：直接考虑每个包括原点有向面积三角形出现的概率即可。这个只用考虑那条边右侧的点全部不出现即可。计算的时候需要写一个旋转扫描线。