<center class="subtitle">Fudan ACM-ICPC Summer Training Camp 2018</center>
# 第 5 场训练报告

<br />
<center>薛振梁</center>
<center>2018 年 7 月 29 日</center>
<br />

### 概况

比赛中通过 6 题，赛后补 2 题，总共通过 8 题。

### 比赛过程

开局先看了 B，是计算圆的凸包，先跳过去了。然后看到 C 是水题，16min 过了。26min 过 D，中途因为忘记 C++ 中取模可能有负数而 WA 了一发。36min 过 H，之后开始做 G。一开始 G 题意看错了（好像很多人第一眼都看错了……），WA 了三发，决定先放一边。105min 时过 F，回来重新看了一遍 G 的题面，终于在 147min 过掉了。之后去看 E，讲实话被题面绕晕了，反正到最后都没有过。230min 过 J，最后试着写了一下 A，但是 WA 了，原因不明。

### 总结

这场比赛题目几乎没有思考难度，但代码实现有点繁琐。题面也很长，不易理解。主要还是前一天晚上没有休息好，导致开场 3h 没什么状态。动手写代码前也没有过多思考，经常写一会停一下，写完的时候还有一些小细节也注意不到。总体来说代码实现能力还需要加强。

***

### 解题报告

#### A. [Abstract Art](https://vjudge.net/problem/Gym-101673A)

**情况**　WA，**未补代码**

**题意**　给出 $n$ 给简单多边形（边数不超过 20），求出所有多边形的面积之和以及多边形的并集的面积。$n \leqslant 100$。

**题解**　第一问相当简单，第二问使用辛普森自适应积分应该能过。

<hr />

#### B. [Craters](https://vjudge.net/problem/Gym-101673B)

**情况**　**未补代码**

**题意**　给出 $n$ 个圆，求出它们的凸包的周长。$n \leqslant 200$。

**题解**　首先筛去所有被其它的某个圆完全包含在内的圆。对于剩下的圆，两两之间求外公切线与圆的交点，用这些交点做凸包。计算凸包周长时，在同一个圆上的点按圆弧长度计算。时间复杂度 $O(n^2 \log n)$。

<hr />

#### C. [DRM Messages](https://vjudge.net/problem/Gym-101673C)

**情况**　AC

**题意**　给出一个长度不超过 $15\,000$ 的字符串，按照题意指示进行解码。

**题解**　模拟即可…

<hr />

#### D. [Game of Throwns](https://vjudge.net/problem/Gym-101673D)

**情况**　AC

**题意**　一堆小朋友围成一个圈按照老师指令传球。给出所有指令，问最后球在谁手上。

**题解**　模拟即可……

<hr />

#### E. [Is-A? Has-A? Who Knowz-A?](https://vjudge.net/problem/Gym-101673E)

**情况**　WA，已补

**题意**　在一个 $n$ 个点，$m$ 条边的图上，边分为两种。然后有 $q$ 次询问，每次询问给出起点 $s$ 和终点 $t$，并且有两类：

1. 从 $s$ 出发，是否存在只经过第一类边到达 $t$ 的路径？

2. 从 $s$ 出发，是否存在两种边都经过且到达 $t$ 的路径？

$n \leqslant 500$，$m,\,q \leqslant 10^4$。

**题解**　两种边分别编号为 1 和 2。两类询问实际上都是传递闭包问题使用 Floyd 算法即可。

第二类询问中要处理两种边，需要进行两次 Floyd：第一次考虑第一类边，第二次再把第二类边加入。时间复杂度 $\Theta(n^3 + q)$。

<hr />

#### F. [Keeping On Track](https://vjudge.net/problem/Gym-101673F)

**情况**　AC

**题意**　给定一棵 $n$ 个点的树，要求：

* 从图中删去一个点，使得删除后不连通的点对数量尽可能多。
* 在删除后的树上添加一条边，使得添加后不连通的点对数量尽可能少。

输出被删除的点和添加的边。$n \leqslant 10^4$。

**题解**　首先 DFS 算出每个点的为根的子树大小，然后枚举被删除的点即可。对于第二问，选择被删除的点的儿子中子树大小最大的两棵子树中的点连边就好了。时间复杂度 $\Theta(n)$。

<hr />

#### G. [A Question of Ingestion](https://vjudge.net/problem/Gym-101673G)

**情况**　AC

**题意**　有 $n$ 个小时的聚餐，每个小时提供的食物的能量值由 $W_i$ 给出。现在有个饿鬼想吃到能量值总和最多的食物，但是它每小时能够吃的食物的能量值上界为 $m$，并且连续吃会使上界以每小时减少 $1/3$ 的速率减少。如果中间休息一个小时，则可以维持休息前的上界。如果休息两个小时，则可以恢复原来的上界。问这个饿鬼最多可以吃到多少能量的食物。$n \leqslant 100$，$m \leqslant 2 \times 10^4$。

**题解**　使用 DP：设 $f[i][j][0/1]$ 表示现在是第 $i$ 小时，在 $i + 1$ 小时吃食物的上界等级为 $j$，以及第 $i$ 小时有没有吃食物。读清题意后实现转移非常简单。注意到 DP 第二维不会很大，最多为 $\lceil \log_{3/2} m \rceil$，所以时间复杂度为 $\Theta(n \log_{3/2} m)$。

<hr />

#### H. [Sheba’s Amoebas](https://vjudge.net/problem/Gym-101673H)

**情况**　AC

**题意**　给出一张二维像素图，问图上有多少个环。图像大小最大为 $100 \times 100$。

**题解**　Floodfill 即可。

<hr />

#### I. [Twenty Four, Again](https://vjudge.net/problem/Gym-101673I)

**情况**　已补

**题意**　给出四个数算 24 点（只考虑四则运算和括号），并且对答案式子评分：每对括号记 1 分，每次交换两个相邻数字的位置记 2 分。问所有可行方案中最低分数是多少。数字范围 $[1,\,100]$ 内的整数。

**题解**　考虑四个数字的表达式树，一共只有 5 种。在叶子节点处枚举所有数字的排列，在非叶子节点处枚举所有运算符，然后计算。针对括号的评分，只需考虑树上儿子父亲之间的运算符优先级来考虑是否需要加括号。针对相邻数字交换的评分，实际上就是排列的逆序对个数。枚举总次数为 $5 \times 4^3 \times 4! = 7680$。

<hr />

#### J. [Workout for a Dumbbell](https://vjudge.net/problem/Gym-101673J)

**情况**　AC

**题意**　一个健身房有 10 个健身器材，每个健身器材上都有个大爷，一会儿运动，一会儿休息。有个人想按照顺序将这 10 个器材玩三轮，问一共要多少时间。

**题解**　为每个大爷记录等待的时间，其余部分模拟即可………